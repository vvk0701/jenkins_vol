Started by user [8mha:////4LMcYAXkNgpM1rVK+lR63yB4X0E8ABsDUug3AxN9LE1VAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZu/dLi1CL9xJTczDwAj6GcLcAAAAA=[0mvivek
Running as SYSTEM
Building in workspace /var/jenkins_home/workspace/Create_TKG_Cluster
The recommended git tool is: NONE
using credential 34bb70bf-146d-499d-8b6e-8f77afbadb33
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/Create_TKG_Cluster/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/vvk0701/vmc_vvk # timeout=10
Fetching upstream changes from https://github.com/vvk0701/vmc_vvk
 > git --version # timeout=10
 > git --version # 'git version 2.20.1'
using GIT_ASKPASS to set credentials GITHUB_NEW
 > git fetch --tags --force --progress -- https://github.com/vvk0701/vmc_vvk +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 8914c75084f75748e075d46a13440aab5416d269 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 8914c75084f75748e075d46a13440aab5416d269 # timeout=10
Commit message: "Update createtkgclusters.sh"
 > git rev-list --no-walk b7f09ad4984bbb34edcb25d44eefecacc2fb1056 # timeout=10
[Create_TKG_Cluster] $ /bin/sh -xe /tmp/jenkins3764769158480657963.sh
+ export KUBECTL_VSPHERE_PASSWORD=wy*-WugMP3GuH6J
+ kubectl vsphere login --server=192.168.123.2 -u cloudadmin@vmc.local --insecure-skip-tls-verify

Logged in successfully.

You have access to the following contexts:
   192.168.123.2
   wcpns1
   wcpns10
   wcpns2
   wcpns2-k8s.Cluster-1.vcenter.sddc-52-12-133-169.vmwarevmc.com
   wcpns3
   wcpns4
   wcpns5
   wcpns6
   wcpns7
   wcpns7-k8s.Cluster-1.vcenter.sddc-52-12-133-169.vmwarevmc.com
   wcpns8
   wcpns8-k8s.Cluster-1.vcenter.sddc-52-12-133-169.vmwarevmc.com
   wcpns9
   wcpns9-k8s.Cluster-1.vcenter.sddc-52-12-133-169.vmwarevmc.com

If the context you wish to use is not in this list, you may need to try
logging in again later, or contact your cluster administrator.

To change context, use `kubectl config use-context <workload name>`
+ kubectl get pods -A
NAMESPACE                                   NAME                                                              READY   STATUS      RESTARTS   AGE
kube-system                                 coredns-689d589965-lc8d6                                          1/1     Running     0          20h
kube-system                                 coredns-689d589965-p9lr2                                          1/1     Running     0          20h
kube-system                                 coredns-689d589965-xrbbd                                          1/1     Running     5          20h
kube-system                                 docker-registry-42105883cf61af7038b6a7045e9a20b3                  1/1     Running     0          20h
kube-system                                 docker-registry-4210f54f7ab737a1e305b2bd9efd8875                  1/1     Running     0          20h
kube-system                                 docker-registry-4210f91cbf7e075121253fc82ffec42b                  1/1     Running     0          20h
kube-system                                 etcd-42105883cf61af7038b6a7045e9a20b3                             1/1     Running     0          20h
kube-system                                 etcd-4210f54f7ab737a1e305b2bd9efd8875                             1/1     Running     0          20h
kube-system                                 etcd-4210f91cbf7e075121253fc82ffec42b                             1/1     Running     0          20h
kube-system                                 kube-apiserver-42105883cf61af7038b6a7045e9a20b3                   1/1     Running     3          20h
kube-system                                 kube-apiserver-4210f54f7ab737a1e305b2bd9efd8875                   1/1     Running     4          20h
kube-system                                 kube-apiserver-4210f91cbf7e075121253fc82ffec42b                   1/1     Running     7          20h
kube-system                                 kube-controller-manager-42105883cf61af7038b6a7045e9a20b3          1/1     Running     1          20h
kube-system                                 kube-controller-manager-4210f54f7ab737a1e305b2bd9efd8875          1/1     Running     2          20h
kube-system                                 kube-controller-manager-4210f91cbf7e075121253fc82ffec42b          1/1     Running     0          20h
kube-system                                 kube-proxy-4gqtm                                                  1/1     Running     0          20h
kube-system                                 kube-proxy-qp2pt                                                  1/1     Running     0          20h
kube-system                                 kube-proxy-zmwrj                                                  1/1     Running     0          20h
kube-system                                 kube-scheduler-42105883cf61af7038b6a7045e9a20b3                   2/2     Running     3          20h
kube-system                                 kube-scheduler-4210f54f7ab737a1e305b2bd9efd8875                   2/2     Running     7          20h
kube-system                                 kube-scheduler-4210f91cbf7e075121253fc82ffec42b                   2/2     Running     6          20h
kube-system                                 kubectl-plugin-vsphere-42105883cf61af7038b6a7045e9a20b3           1/1     Running     4          20h
kube-system                                 kubectl-plugin-vsphere-4210f54f7ab737a1e305b2bd9efd8875           1/1     Running     4          20h
kube-system                                 kubectl-plugin-vsphere-4210f91cbf7e075121253fc82ffec42b           1/1     Running     3          20h
kube-system                                 wcp-authproxy-42105883cf61af7038b6a7045e9a20b3                    1/1     Running     0          20h
kube-system                                 wcp-authproxy-4210f54f7ab737a1e305b2bd9efd8875                    1/1     Running     0          20h
kube-system                                 wcp-authproxy-4210f91cbf7e075121253fc82ffec42b                    1/1     Running     0          20h
kube-system                                 wcp-fip-42105883cf61af7038b6a7045e9a20b3                          1/1     Running     0          20h
kube-system                                 wcp-fip-4210f54f7ab737a1e305b2bd9efd8875                          1/1     Running     0          20h
kube-system                                 wcp-fip-4210f91cbf7e075121253fc82ffec42b                          1/1     Running     0          20h
svc-tmc-c55                                 tmc-agent-installer-27206971-729p6                                0/1     Completed   0          35s
vmware-system-appplatform-operator-system   vmware-system-appplatform-operator-mgr-0                          1/1     Running     0          20h
vmware-system-capw                          capi-controller-manager-584fd8896-q9wjg                           2/2     Running     4          20h
vmware-system-capw                          capi-controller-manager-584fd8896-t7pnf                           2/2     Running     0          20h
vmware-system-capw                          capi-controller-manager-584fd8896-zlcsm                           2/2     Running     3          20h
vmware-system-capw                          capi-kubeadm-bootstrap-controller-manager-7c66845b75-8j5mz        2/2     Running     4          20h
vmware-system-capw                          capi-kubeadm-bootstrap-controller-manager-7c66845b75-f64kz        2/2     Running     0          20h
vmware-system-capw                          capi-kubeadm-bootstrap-controller-manager-7c66845b75-s5glg        2/2     Running     3          20h
vmware-system-capw                          capi-kubeadm-bootstrap-webhook-85b6b6f795-9wj47                   2/2     Running     0          20h
vmware-system-capw                          capi-kubeadm-bootstrap-webhook-85b6b6f795-crwp6                   2/2     Running     0          20h
vmware-system-capw                          capi-kubeadm-bootstrap-webhook-85b6b6f795-k59zn                   2/2     Running     1          20h
vmware-system-capw                          capi-kubeadm-control-plane-controller-manager-698b658fd9-hmxnt    2/2     Running     4          20h
vmware-system-capw                          capi-kubeadm-control-plane-controller-manager-698b658fd9-ps9wl    2/2     Running     0          20h
vmware-system-capw                          capi-kubeadm-control-plane-controller-manager-698b658fd9-tslfh    2/2     Running     3          20h
vmware-system-capw                          capi-kubeadm-control-plane-webhook-54b4c9857c-qcwk2               2/2     Running     1          20h
vmware-system-capw                          capi-kubeadm-control-plane-webhook-54b4c9857c-sqhqb               2/2     Running     1          20h
vmware-system-capw                          capi-kubeadm-control-plane-webhook-54b4c9857c-x9fks               2/2     Running     0          20h
vmware-system-capw                          capi-webhook-f48c7ff58-7656m                                      2/2     Running     1          20h
vmware-system-capw                          capi-webhook-f48c7ff58-gbcqj                                      2/2     Running     0          20h
vmware-system-capw                          capi-webhook-f48c7ff58-qcb6q                                      2/2     Running     1          20h
vmware-system-capw                          capw-controller-manager-85b8c7cf7b-dsb5l                          2/2     Running     3          20h
vmware-system-capw                          capw-controller-manager-85b8c7cf7b-pmw8p                          2/2     Running     0          20h
vmware-system-capw                          capw-controller-manager-85b8c7cf7b-srcsq                          2/2     Running     5          20h
vmware-system-capw                          capw-webhook-77ffc699f5-5vqsz                                     2/2     Running     0          20h
vmware-system-capw                          capw-webhook-77ffc699f5-l2b88                                     2/2     Running     1          20h
vmware-system-capw                          capw-webhook-77ffc699f5-r4w8c                                     2/2     Running     1          20h
vmware-system-cert-manager                  cert-manager-799b5bbfdf-7d4ks                                     1/1     Running     2          20h
vmware-system-cert-manager                  cert-manager-cainjector-69c886766f-xzt55                          1/1     Running     5          20h
vmware-system-cert-manager                  cert-manager-webhook-657b4fdd6c-jtwsl                             1/1     Running     0          20h
vmware-system-csi                           vsphere-csi-controller-5d94c7dfc7-9xwtb                           6/6     Running     19         20h
vmware-system-kubeimage                     image-controller-d66bfd69c-mn7bd                                  1/1     Running     1          20h
vmware-system-license-operator              vmware-system-license-operator-controller-manager-69b95df46t9w2   1/1     Running     0          20h
vmware-system-license-operator              vmware-system-license-operator-controller-manager-69b95df4h2qr4   1/1     Running     0          20h
vmware-system-license-operator              vmware-system-license-operator-controller-manager-69b95df4mgqmj   1/1     Running     0          20h
vmware-system-logging                       fluentbit-cknhw                                                   1/1     Running     0          20h
vmware-system-logging                       fluentbit-g75df                                                   1/1     Running     0          20h
vmware-system-logging                       fluentbit-rqkjd                                                   1/1     Running     0          20h
vmware-system-monitoring                    telegraf-5qlr6                                                    2/2     Running     0          20h
vmware-system-monitoring                    telegraf-cxl6q                                                    2/2     Running     0          20h
vmware-system-monitoring                    telegraf-vfcm2                                                    2/2     Running     0          20h
vmware-system-nsop                          vmware-system-nsop-controller-manager-7996fcd946-46cn4            1/1     Running     3          20h
vmware-system-nsop                          vmware-system-nsop-controller-manager-7996fcd946-8pp7p            1/1     Running     4          20h
vmware-system-nsop                          vmware-system-nsop-controller-manager-7996fcd946-zmczl            1/1     Running     1          20h
vmware-system-nsx                           nsx-ncp-55cf854564-75b64                                          1/1     Running     6          20h
vmware-system-registry                      vmware-registry-controller-manager-848dcc8dc-zzq4w                2/2     Running     4          20h
vmware-system-tkg                           masterproxy-tkgs-plugin-8ztmz                                     1/1     Running     0          20h
vmware-system-tkg                           masterproxy-tkgs-plugin-chjbn                                     1/1     Running     0          20h
vmware-system-tkg                           masterproxy-tkgs-plugin-ks52v                                     1/1     Running     0          20h
vmware-system-tkg                           tkgs-plugin-server-679f79fd9b-4t4t9                               1/1     Running     0          20h
vmware-system-tkg                           tkgs-plugin-server-679f79fd9b-7j2n4                               1/1     Running     1          20h
vmware-system-tkg                           tkgs-plugin-server-679f79fd9b-fx7nc                               1/1     Running     0          20h
vmware-system-tkg                           vmware-system-tkg-controller-manager-67b9686948-54842             2/2     Running     4          20h
vmware-system-tkg                           vmware-system-tkg-controller-manager-67b9686948-lpfcz             2/2     Running     3          20h
vmware-system-tkg                           vmware-system-tkg-controller-manager-67b9686948-nrplb             2/2     Running     0          20h
vmware-system-tkg                           vmware-system-tkg-webhook-6d8956b47-8l27b                         2/2     Running     0          20h
vmware-system-tkg                           vmware-system-tkg-webhook-6d8956b47-9zdt8                         2/2     Running     0          20h
vmware-system-tkg                           vmware-system-tkg-webhook-6d8956b47-zrjxw                         2/2     Running     0          20h
vmware-system-ucs                           upgrade-compatibility-service-75bcc54d8c-9zmkh                    1/1     Running     0          20h
vmware-system-ucs                           upgrade-compatibility-service-75bcc54d8c-b2qdw                    1/1     Running     0          20h
vmware-system-ucs                           upgrade-compatibility-service-75bcc54d8c-w5h8g                    1/1     Running     0          20h
vmware-system-vmop                          vmware-system-vmop-controller-manager-c97cc6ff8-4c4sb             2/2     Running     5          20h
vmware-system-vmop                          vmware-system-vmop-controller-manager-c97cc6ff8-lzbz4             2/2     Running     3          20h
vmware-system-vmop                          vmware-system-vmop-controller-manager-c97cc6ff8-wqxtr             2/2     Running     0          20h
+ chmod 777 createtkgclusters.sh
+ ./createtkgclusters.sh
+ (( j=3 ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster3
+ '[' 3 -le 3 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster3/g'
++ cat gcm150.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha1
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster3
  namespace: wcpns1
spec:
  topology:
    controlPlane:
      count: 3
      class: best-effort-large
      storageClass: '\''vmc-workload-storage-policy-cluster-1'\''
    workers:
      count: 150
      class: best-effort-xsmall
      storageClass: '\''vmc-workload-storage-policy-cluster-1'\''
  distribution:
    version: v1.20.2+vmware.1-tkg.1.1d4f79a
  settings:
    network:
      cni:
        name: antrea
      services:
        cidrBlocks: ["198.51.100.0/12"]
      pods:
        cidrBlocks: ["192.0.2.0/16"]'
+ sleep_var=300
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha1
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster3
  namespace: wcpns1
spec:
  topology:
    controlPlane:
      count: 3
      class: best-effort-large
      storageClass: '\''vmc-workload-storage-policy-cluster-1'\''
    workers:
      count: 150
      class: best-effort-xsmall
      storageClass: '\''vmc-workload-storage-policy-cluster-1'\''
  distribution:
    version: v1.20.2+vmware.1-tkg.1.1d4f79a
  settings:
    network:
      cni:
        name: antrea
      services:
        cidrBlocks: ["198.51.100.0/12"]
      pods:
        cidrBlocks: ["192.0.2.0/16"]'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster3 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:31:36 PM UTC'
+ sleep 300
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster4
+ '[' 4 -le 3 ']'
+ '[' 4 -gt 3 ']'
+ '[' 4 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster4/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster4
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster4
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster4 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:36:38 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster5
+ '[' 5 -le 3 ']'
+ '[' 5 -gt 3 ']'
+ '[' 5 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster5/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster5
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster5
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster5 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:37:39 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster6
+ '[' 6 -le 3 ']'
+ '[' 6 -gt 3 ']'
+ '[' 6 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster6/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster6
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster6
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster6 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:38:40 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster7
+ '[' 7 -le 3 ']'
+ '[' 7 -gt 3 ']'
+ '[' 7 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster7/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster7
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster7
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster7 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:39:41 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster8
+ '[' 8 -le 3 ']'
+ '[' 8 -gt 3 ']'
+ '[' 8 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster8/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster8
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ kubectl apply -f -
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster8
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster8 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:40:42 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster9
+ '[' 9 -le 3 ']'
+ '[' 9 -gt 3 ']'
+ '[' 9 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster9/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster9
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster9
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster9 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:41:43 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster10
+ '[' 10 -le 3 ']'
+ '[' 10 -gt 3 ']'
+ '[' 10 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster10/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster10
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster10
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster10 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:42:44 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster11
+ '[' 11 -le 3 ']'
+ '[' 11 -gt 3 ']'
+ '[' 11 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster11/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster11
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster11
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster11 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:43:45 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster12
+ '[' 12 -le 3 ']'
+ '[' 12 -gt 3 ']'
+ '[' 12 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster12/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster12
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster12
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster12 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:44:45 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster13
+ '[' 13 -le 3 ']'
+ '[' 13 -gt 3 ']'
+ '[' 13 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster13/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster13
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster13
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster13 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:45:46 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster14
+ '[' 14 -le 3 ']'
+ '[' 14 -gt 3 ']'
+ '[' 14 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster14/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster14
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster14
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster14 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:46:48 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster15
+ '[' 15 -le 3 ']'
+ '[' 15 -gt 3 ']'
+ '[' 15 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster15/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster15
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster15
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster15 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:47:48 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster16
+ '[' 16 -le 3 ']'
+ '[' 16 -gt 3 ']'
+ '[' 16 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster16/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster16
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster16
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster16 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:48:49 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster17
+ '[' 17 -le 3 ']'
+ '[' 17 -gt 3 ']'
+ '[' 17 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster17/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster17
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster17
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster17 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:49:50 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster18
+ '[' 18 -le 3 ']'
+ '[' 18 -gt 3 ']'
+ '[' 18 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster18/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster18
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster18
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster18 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:50:51 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster19
+ '[' 19 -le 3 ']'
+ '[' 19 -gt 3 ']'
+ '[' 19 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster19/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster19
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster19
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster19 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:51:51 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster20
+ '[' 20 -le 3 ']'
+ '[' 20 -gt 3 ']'
+ '[' 20 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster20/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster20
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster20
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster20 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:52:52 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster21
+ '[' 21 -le 3 ']'
+ '[' 21 -gt 3 ']'
+ '[' 21 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster21/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster21
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ kubectl apply -f -
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster21
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster21 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:53:53 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster22
+ '[' 22 -le 3 ']'
+ '[' 22 -gt 3 ']'
+ '[' 22 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster22/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster22
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster22
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster22 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:54:54 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster23
+ '[' 23 -le 3 ']'
+ '[' 23 -gt 3 ']'
+ '[' 23 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster23/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster23
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ kubectl apply -f -
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster23
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster23 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:55:55 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster24
+ '[' 24 -le 3 ']'
+ '[' 24 -gt 3 ']'
+ '[' 24 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster24/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster24
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster24
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
+ kubectl apply -f -
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster24 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:56:56 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster25
+ '[' 25 -le 3 ']'
+ '[' 25 -gt 3 ']'
+ '[' 25 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster25/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster25
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster25
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
+ kubectl apply -f -
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster25 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:57:57 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster26
+ '[' 26 -le 3 ']'
+ '[' 26 -gt 3 ']'
+ '[' 26 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster26/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster26
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster26
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster26 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 05:59:00 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster27
+ '[' 27 -le 3 ']'
+ '[' 27 -gt 3 ']'
+ '[' 27 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster27/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster27
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster27
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster27 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:00:00 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster28
+ '[' 28 -le 3 ']'
+ '[' 28 -gt 3 ']'
+ '[' 28 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster28/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster28
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster28
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster28 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:01:01 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster29
+ '[' 29 -le 3 ']'
+ '[' 29 -gt 3 ']'
+ '[' 29 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster29/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster29
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster29
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster29 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:02:02 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster30
+ '[' 30 -le 3 ']'
+ '[' 30 -gt 3 ']'
+ '[' 30 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster30/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster30
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster30
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster30 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:03:03 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster31
+ '[' 31 -le 3 ']'
+ '[' 31 -gt 3 ']'
+ '[' 31 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster31/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster31
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster31
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster31 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:04:04 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster32
+ '[' 32 -le 3 ']'
+ '[' 32 -gt 3 ']'
+ '[' 32 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster32/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster32
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster32
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster32 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:05:04 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster33
+ '[' 33 -le 3 ']'
+ '[' 33 -gt 3 ']'
+ '[' 33 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster33/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster33
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster33
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster33 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:06:05 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster34
+ '[' 34 -le 3 ']'
+ '[' 34 -gt 3 ']'
+ '[' 34 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster34/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster34
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster34
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
+ kubectl apply -f -
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster34 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:07:06 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster35
+ '[' 35 -le 3 ']'
+ '[' 35 -gt 3 ']'
+ '[' 35 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster35/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster35
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster35
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster35 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:08:07 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster36
+ '[' 36 -le 3 ']'
+ '[' 36 -gt 3 ']'
+ '[' 36 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster36/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster36
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster36
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster36 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:09:08 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster37
+ '[' 37 -le 3 ']'
+ '[' 37 -gt 3 ']'
+ '[' 37 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster37/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster37
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster37
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster37 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:10:09 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster38
+ '[' 38 -le 3 ']'
+ '[' 38 -gt 3 ']'
+ '[' 38 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster38/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster38
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster38
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
+ kubectl apply -f -
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster38 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:11:09 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster39
+ '[' 39 -le 3 ']'
+ '[' 39 -gt 3 ']'
+ '[' 39 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster39/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster39
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ kubectl apply -f -
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster39
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster39 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:12:10 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster40
+ '[' 40 -le 3 ']'
+ '[' 40 -gt 3 ']'
+ '[' 40 -lt 45 ']'
++ sed 's/{{MY_NAME}}/tkg-cluster40/g'
++ cat gcm2_alpha2.yaml
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster40
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster40
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster40 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:13:11 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster41
+ '[' 41 -le 3 ']'
+ '[' 41 -gt 3 ']'
+ '[' 41 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster41/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster41
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster41
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster41 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:14:12 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster42
+ '[' 42 -le 3 ']'
+ '[' 42 -gt 3 ']'
+ '[' 42 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster42/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster42
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster42
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster42 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:15:12 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster43
+ '[' 43 -le 3 ']'
+ '[' 43 -gt 3 ']'
+ '[' 43 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster43/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster43
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster43
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster43 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:16:13 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster44
+ '[' 44 -le 3 ']'
+ '[' 44 -gt 3 ']'
+ '[' 44 -lt 45 ']'
++ cat gcm2_alpha2.yaml
++ sed 's/{{MY_NAME}}/tkg-cluster44/g'
+ template='apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster44
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ sleep_var=60
+ echo 'apiVersion: run.tanzu.vmware.com/v1alpha2
kind: TanzuKubernetesCluster
metadata:
  name: tkg-cluster44
  namespace: wcpns3
spec:
  topology:
    controlPlane:
      tkr:
        reference:
          name: v1.20.7---vmware.1-tkg.1.7fb9067
      replicas: 1
      vmClass: best-effort-medium
      storageClass: vmc-workload-storage-policy-cluster-1
    nodePools:
    - replicas: 2
      name: np-1
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
      labels:
        k1: v1
        k2: v2
      taints:
      - key: k1
        value: v1
        effect: NoSchedule
    - replicas: 2
      name: np-2
      vmClass: best-effort-xsmall
      storageClass: vmc-workload-storage-policy-cluster-1
  settings:
    network:
      cni:
        name: calico
      services:
        cidrBlocks:
        - 198.51.100.0/12
      pods:
        cidrBlocks:
        - 192.0.2.0/16
      serviceDomain: cluster.local'
+ kubectl apply -f -
tanzukubernetescluster.run.tanzu.vmware.com/tkg-cluster44 created
++ kubectl get tkc
No resources found in default namespace.
+ output=
++ date
+ date_time='Thu 23 Sep 2021 06:17:15 PM UTC'
+ sleep 60
+ (( j++  ))
+ (( j<=50 ))
+ tkg_name=tkg-cluster45
+ '[' 45 -le 3 ']'
+ '[' 45 -gt 3 ']'
+ '[' 45 -lt 45 ']'
+ '[' 45 -gt 45 ']'
Build step 'Execute shell' marked build as failure
Finished: FAILURE
